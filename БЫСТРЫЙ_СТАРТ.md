# üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

> **–£–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä WorkerNet v5.0 - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ 2 –º–∏–Ω—É—Ç—ã**

---

## ‚ö° –£–°–¢–ê–ù–û–í–ö–ê –ó–ê 3 –®–ê–ì–ê

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/apelsin349/WN_5.0_install.git
cd WN_5.0_install
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

```bash
chmod +x install.sh
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
sudo ./install.sh
```

**–ì–æ—Ç–æ–≤–æ!** –ò–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä —Å–¥–µ–ª–∞–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## üìã –û–ü–¶–ò–ò

```bash
# –ë–∞–∑–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo ./install.sh

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏
sudo ./install.sh --version 4.x

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –¥–æ–º–µ–Ω–∞
sudo ./install.sh --domain workernet.example.com

# –° –≤—ã–±–æ—Ä–æ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
sudo ./install.sh --webserver nginx

# –° –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º
sudo ./install.sh --config install.conf.yml

# DEBUG —Ä–µ–∂–∏–º
sudo ./install.sh --debug

# –°–ø—Ä–∞–≤–∫–∞
./install.sh --help
```

---

## ‚úÖ –ß–¢–û –ü–†–û–ò–ó–û–ô–î–ï–¢

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∏** - 11 pre-flight checks
2. ‚úÖ **Firewall** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ iptables
3. ‚úÖ **PostgreSQL 16** + PostGIS 3
4. ‚úÖ **Redis** - —Å –ø–∞—Ä–æ–ª–µ–º
5. ‚úÖ **RabbitMQ** + Erlang - 3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. ‚úÖ **PHP 8.3** + 20 —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
7. ‚úÖ **Python 3** + pip
8. ‚úÖ **Supervisor** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–º–æ–Ω–∞–º–∏
9. ‚úÖ **Apache/NGINX** - –Ω–∞ –≤—ã–±–æ—Ä
10. ‚úÖ **WorkerNet phar** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
11. ‚úÖ **Smoke tests** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –í—Ä–µ–º—è: ~30 –º–∏–Ω—É—Ç

---

## üîë –ü–ê–†–û–õ–ò

**–í –∫–æ–Ω—Ü–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë              üîë –ü–ê–†–ê–ú–ï–¢–†–´ –£–°–¢–ê–ù–û–í–ö–ò                            ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

  PostgreSQL password: xK9pL2mN5vQ7w
  Redis password: e3b0c442...
  RabbitMQ admin password: aB3cD4eF5gH6
  ...

‚ö†Ô∏è  –í–ê–ñ–ù–û: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã!

–ù–∞–∂–º–∏—Ç–µ Enter –ø–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π...
```

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –°–û–•–†–ê–ù–ò–¢–ï –ü–ê–†–û–õ–ò!**

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

### ‚ùå –û—à–∏–±–∫–∞: "curl: command not found"

**–ü—Ä–æ–±–ª–µ–º–∞:** curl –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ.

**–†–µ—à–µ–Ω–∏–µ:**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å curl:
```bash
# –î–ª—è Debian/Ubuntu
sudo apt update && sudo apt install -y curl

# –î–ª—è AlmaLinux
sudo dnf install -y curl
```

**‚ö†Ô∏è –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É "user is not in the sudoers file":**
- –°–º. —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ "–û—à–∏–±–∫–∞: worker is not in the sudoers file"
- –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∞–≤–∞ sudo, –ø–æ—Ç–æ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ curl

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```bash
curl --version
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Ä—Å–∏—é curl
```

3. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
curl -O http://workernet.online/WN_5.0_install/bootstrap.sh && \
chmod +x bootstrap.sh && \
sudo ./bootstrap.sh
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1 (–µ—Å–ª–∏ –Ω–µ—Ç sudo –ø—Ä–∞–≤):**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å curl —á–µ—Ä–µ–∑ root
su -
apt update && apt install -y curl
exit

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
curl --version
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2 (–µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–ª—è curl):**
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ git
sudo apt install -y git  # –∏–ª–∏ —á–µ—Ä–µ–∑ root: su - && apt install -y git
git clone https://github.com/apelsin349/WN_5.0_install.git
cd WN_5.0_install
sudo ./install.sh
```

---

### ‚ùå –û—à–∏–±–∫–∞: "worker is not in the sudoers file"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ sudo.

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ root:
```bash
su -
```

2. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É sudo:
```bash
usermod -aG sudo worker
```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä—É–ø–ø—ã:
```bash
groups worker
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: worker : worker sudo
```

4. –í—ã–π—Ç–∏ –∏–∑ root:
```bash
exit
```

5. **–í–ê–ñ–ù–û!** –ü–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É:
```bash
exit
# –í–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ –∫–∞–∫ worker
```

6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å sudo:
```bash
sudo whoami
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: root
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (—á–µ—Ä–µ–∑ visudo):**
```bash
su -
visudo
# –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü: worker ALL=(ALL:ALL) ALL
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏
exit
exit  # –ü–µ—Ä–µ–∑–∞–π—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
```

---

### Rollback –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π!

–ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –∏–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
2. –£–¥–∞–ª–∏—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ë–î
3. –£–¥–∞–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. –û—á–∏—Å—Ç–∏—Ç —Ñ–∞–π–ª—ã
5. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å–∏—Å—Ç–µ–º—É

**–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ!**

### –õ–æ–≥–∏

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ
tail -f /var/log/workernet/install_*.log

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
grep ERROR /var/log/workernet/install_*.log
```

---

## üìñ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[README.md](README.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- **[FAQ.md](../FAQ.md)** - 40+ –≤–æ–ø—Ä–æ—Å–æ–≤
- **[CHECKLIST.md](../CHECKLIST.md)** - –ß–µ–∫-–ª–∏—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Ubuntu 24 / Debian 12 / AlmaLinux 9
- **RAM:** 4+ GB
- **Disk:** 50+ GB
- **CPU:** 2+ —è–¥—Ä–∞
- **Root:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

---

## ‚ú® –ì–û–¢–û–í–û!

**–£–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä v5.0:**

‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π  
‚úÖ –° –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –∏ —Ç–µ—Å—Ç–∞–º–∏  
‚úÖ –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Ç–∫–∞—Ç–æ–º  
‚úÖ 100% –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ  
‚úÖ Production-ready  

**–£–¥–∞—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏! üöÄ**

