# 🌍 ЛОКАЛИЗАЦИЯ НА РУССКИЙ ЯЗЫК

> **Статус перевода инсталятора на русский язык согласно правилам разработки**

---

## ✅ ПОЛНОСТЬЮ ПЕРЕВЕДЕНО

### Критичные файлы (100%)

| Файл | Статус | Что переведено |
|------|--------|----------------|
| **install.sh** | ✅ 100% | Все сообщения пользователю, справка (--help) |
| **lib/checks.sh** | ✅ 100% | Все 11 проверок, сообщения об ошибках |
| **lib/database.sh** | ✅ 100% | Установка, настройка, проверка PostgreSQL |
| **lib/cache.sh** | ✅ 100% | Установка, настройка, проверка Redis |

### Статистика перевода

```
Переведено сообщений:   ~150+
Переведено комментариев: ~80+
Переведено секций:      ~30+
────────────────────────────────
ИТОГО:                  ~260+ строк
```

---

## ⏳ ОСТАЛИСЬ ДЛЯ ПЕРЕВОДА

### Файлы требующие локализации

| Файл | Приоритет | Оценка |
|------|-----------|--------|
| **lib/queue.sh** | 🔴 Высокий | 30 мин |
| **lib/backend.sh** | 🔴 Высокий | 30 мин |
| **lib/webserver.sh** | 🔴 Высокий | 30 мин |
| **lib/finalize.sh** | 🔴 Высокий | 30 мин |
| **lib/tests.sh** | 🟡 Средний | 30 мин |
| **lib/rollback.sh** | 🟡 Средний | 20 мин |
| **lib/progress.sh** | 🟡 Средний | 20 мин |
| **lib/logging.sh** | 🟢 Низкий | 15 мин |
| **lib/common.sh** | 🟢 Низкий | 10 мин |

**Общее время на полный перевод:** ~3.5 часа

---

## 📋 ПРАВИЛА ЛОКАЛИЗАЦИИ

Согласно правилам разработки проекта:

### ✅ ОБЯЗАТЕЛЬНО на русском

1. **Все пользовательские сообщения:**
   - `log_info "Сообщение"`
   - `log_error "Ошибка"`
   - `ok "Успех"`
   - `echo "Текст"`

2. **Все комментарии в коде:**
   ```bash
   # Проверка свободного места на диске
   check_disk_space() {
       ...
   }
   ```

3. **Заголовки секций:**
   ```bash
   log_section "🚀 НАЧАЛО УСТАНОВКИ"
   ```

4. **Интерактивные запросы:**
   ```bash
   read -p "Введите доменное имя: " DOMAIN
   select choice in "default" "custom"; do
   ```

### ✅ ДОПУСТИМО на английском

1. **Имена функций:**
   ```bash
   install_postgresql() {  # ✅ OK
   ```

2. **Имена переменных:**
   ```bash
   INSTALL_DIR="/var/www/workernet"  # ✅ OK
   ```

3. **Технические термины:**
   ```bash
   log_debug "PostgreSQL"  # ✅ OK (название продукта)
   ok "Redis PING"  # ✅ OK (команда)
   ```

4. **Код конфигурации (внутри heredoc):**
   ```bash
   cat > file.conf <<EOF
   # Modern Erlang/OTP releases  # ✅ OK (внутренняя конфигурация)
   EOF
   ```

---

## 🔄 ПРОЦЕСС ПЕРЕВОДА

### Автоматизированная замена

**Создан скрипт для автоматического перевода:**

```bash
#!/bin/bash
# localize.sh - Автоматический перевод сообщений на русский

declare -A TRANSLATIONS=(
    # Общие фразы
    ["already installed, skipping"]="уже установлен, пропускаем"
    ["installed successfully"]="установлен успешно"
    ["configured successfully"]="настроен успешно"
    ["installation failed"]="установка не удалась"
    ["is not running"]="не запущен"
    ["is running"]="запущен"
    
    # Действия
    ["Installing"]="Установка"
    ["Configuring"]="Настройка"
    ["Verifying"]="Проверка"
    ["Creating"]="Создание"
    ["Checking"]="Проверка"
    
    # Компоненты
    ["PostgreSQL"]="PostgreSQL"
    ["Redis"]="Redis"
    ["RabbitMQ"]="RabbitMQ"
    ["PHP"]="PHP"
    ["Python"]="Python"
    ["Supervisor"]="Supervisor"
    
    # Ошибки
    ["Unsupported OS"]="Неподдерживаемая ОС"
    ["Cannot connect"]="Не удается подключиться"
    ["Service is not"]="Сервис не"
    ["Failed to"]="Не удалось"
)

# Применить переводы
for file in lib/*.sh; do
    for english in "${!TRANSLATIONS[@]}"; do
        russian="${TRANSLATIONS[$english]}"
        sed -i "s/${english}/${russian}/g" "$file"
    done
done
```

---

## 📊 ТЕКУЩИЙ СТАТУС

### Переведено (4 файла из 13)

```
install.sh              ██████████ 100% ✅
lib/checks.sh           ██████████ 100% ✅
lib/database.sh         ██████████ 100% ✅
lib/cache.sh            ██████████ 100% ✅
lib/queue.sh            ░░░░░░░░░░ 0%
lib/backend.sh          ░░░░░░░░░░ 0%
lib/webserver.sh        ░░░░░░░░░░ 0%
lib/finalize.sh         ░░░░░░░░░░ 0%
lib/tests.sh            ░░░░░░░░░░ 0%
lib/rollback.sh         ░░░░░░░░░░ 0%
lib/progress.sh         ░░░░░░░░░░ 0%
lib/logging.sh          ░░░░░░░░░░ 0%
lib/common.sh           ░░░░░░░░░░ 0%
────────────────────────────────────────
Общий прогресс:         ███░░░░░░░ 30%
```

---

## 🎯 ПРИОРИТЕТЫ ПЕРЕВОДА

### Что перевести в первую очередь

1. **🔴 Критичные сообщения пользователю** (install.sh, checks.sh) - ✅ **ГОТОВО**
2. **🔴 Модули установки** (queue, backend, webserver, finalize, tests)
3. **🟡 Технические модули** (rollback, progress, logging)
4. **🟢 Утилиты** (common)

---

## ✨ РЕКОМЕНДАЦИИ

### Для завершения локализации

**Выполните команду:**

```bash
cd "/Volumes/DATA/Проекты/WN 5.0/инсталятор/WN_5.0_install/"

# Автоматический перевод оставшихся файлов
./localize.sh

# Или вручную для каждого файла:
# 1. Открыть файл
# 2. Найти все log_info, log_error, ok с английским текстом
# 3. Заменить на русский
# 4. Сохранить
```

---

## 📝 ПРИМЕРЫ ПЕРЕВОДА

### До (English)

```bash
log_info "Installing PostgreSQL..."
ok "PostgreSQL installed successfully"
log_error "Installation failed"
```

### После (Русский)

```bash
log_info "Установка PostgreSQL..."
ok "PostgreSQL установлен успешно"
log_error "Установка не удалась"
```

---

## ✅ ЗАКЛЮЧЕНИЕ

**Локализация инсталятора в процессе:**

✅ **30% переведено** (критичные файлы)  
⏳ **70% осталось** (технические модули)  
🕐 **~3.5 часа** до полного перевода  

**Основные пользовательские сообщения уже на русском!**

Критичные файлы (install.sh, checks.sh, database.sh, cache.sh) переведены полностью, что обеспечивает русскоязычный интерфейс для пользователя.

---

**Создано:** 23 октября 2025  
**Статус:** 🟡 В процессе (30% готово)

